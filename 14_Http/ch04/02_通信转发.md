
HTTP 通信时，除客户端和服务器以外，还有一些用于通信数据转发的应用程序，例如代理、网关和隧道。它们可以配合服务器工作。

这些应用程序和服务器可以将请求转发给通信线路上的下一站服务器，并且能接收从那台服务器发送的响应再转发给客户端。


### 代理

代理扮演了位于服务器和客户端"中间人"的角色。代理服务器的基本行为就是接收客户端发送的请求后转发给其他服务器。

代理不改变请求 URI，会直接发送给上游持有资源的目标服务器。持有资源实体的服务器被称为源服务器。从源服务器返回的响应经过代理后再传给客户端。

在 HTTP 通信过程中，可级联多台代理服务器。请求和响应的转发会经过数台类似锁链一样连接起来的代理服务器。转发时，需要附加`Via`首部字段以标记出经过的主机信息。

使用代理的原因有如下几点:
* 利用缓存技术减少网络带宽的流量
* 组织内部针对特定网站的访问控制
* 以获取访问日志为主要目的

代理有多种使用方法，按两种基准分类: 一种是是否使用缓存，另一种是是否会修改报文。具体如下:
* 缓存代理
    * 代理转发响应时，缓存代理(Caching Proxy)会预先将资源的副本(缓存)保存在代理服务器上。
    * 当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获取，而是将之前缓存的资源作为响应返回。
* 透明代理
    * 转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理(Transparent Proxy)。反之，对报文内容进行加工的代理被称为非透明代理。

缓存技术
* 缓存是指代理服务器或客户端本地磁盘内保存的资源副本。
* 利用缓存技术可使客户端可就近从缓存服务器上获取资源，而源服务器也避免了多次处理相同的请求。
* 即使存在缓存，也会因为客户端的要求、缓存的有效期等因素，向源服务器确认资源的有效性。若判断缓存失效，缓存服务器将会再次从源服务器上获取"新"资源。
* 缓存不权可以存在于缓存服务器内，还可以存在于客户端浏览器中。其使用与更新机制与缓存代理类似。


### 网关

网关的工作机制和代理相似，不过网关能使通信线路上的服务器提供非 HTTP 协议服务。比如，网关可以连接数据库、可以与其他系统进行联动等。

利用网关也能够提高通信的安全性，因为可以在客户端与网关之间的通信线路上加密以确保连接的安全。


### 隧道

隧道可按要求建立一条与其他服务器的通信线路，届时可以使用 SSL 等加密手段进行通信。

隧道的目的是确保客户端能与服务器进行安全的通信。

隧道本身不会去解析 HTTP 请求。也就是说，请求保持原样中转给之后的服务顺路。隧道会在通信双方断开连接时结束。
