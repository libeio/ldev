
#### 数据类型

perl 是一种弱类型语言，一共有 3 种基本数据类型，分别是**标量、数组和哈希**。

可以通过 ref 来判断变量的类型:
```
    $x = "hello world";
    
    print ref($x), "\n";
```

#### 标量

标量可以是数字、字符串、浮点数，使用时在变量的名字前面加上一个 `$` 表示标量。

标量变量不需要显式声明类型。在变量赋值后，解释器会自动分配匹配的类型空间。也可以在程序中使用 `use strict` 语句让所有变量需要强制声明类型。

整数和浮点数均贮存在浮点寄存器中，整数是浮点的特例。浮点寄存器通常不能精确的贮存浮点数，常常会产生误差。

字符串与数字之间的连接:
```pl
    $str = "hello" . "world";       # 字符串连接
    $num = 5 + 10;                  # 两数相加
    $mix = $str . $num;             # 连接字符串和数字
```

关于字符串单双引号: 双引号可以正常解析一些转义字符与变量，而单引号无法解析会原样输出。

单引号输出多行字符串:
```pl
   $string = '
        Hello
            World
    ';
```

特殊的字符:
```pl
    __FILE__         当前文件名
    __LINE__         当前行
    __PACKAGE__      当前包名
```
这些特殊的字符是单独的标记，不能写在字符串中。

v字串: 一个以 `v` 开头,后面跟着一个或多个用句点分隔的整数，会被当作一个字串文本。


#### 数组

数组以字符 `@` 开头，索引从 0 开始。如 `@arr=(1, 2, 3)`。
```pl
   @array = (1, 2, 'Hello');
   @array = qw/1 2 Hello/;
```

数组变量是用于存储一个有序的标量值的变量。可以通过 `$数组名[下标]` 完成对数组的变量的访问。
```pl
   $array[3] = 'World';
   $array[4] = '!';
   
   print("$array[3]");
```
数组索引允许为负数， -1 表示倒数第一个，-2 表示倒数第二个

以某种规律生成数组:
```pl
   @var_num = (1..10);      # 1 2 3 4 5 6 7 8 9 10
   @var_char = (a..z);      # a b c ... x y z
```

数组长度返回的是数组物理大小，而不是元素的个数。
```pl
   $size = @array;          # 数组长度
   $max_index = @#array     # 数组最大索引
```

添加或删除数组元素:
```pl
   push(@ARRAY, LIST);          将列表的值放到数组的末尾
   pop(@ARRAY);                 弹出数组最后一个值，并返回它
   shift(@ARRAY);               弹出数组第一个值，并返回它。
   unshift(@ARRAY, LIST);       将列表放在数组前面，并返回新数组的元素个数
```

切割数组:
```pl
    @sites = qw/google taobao runoob weibo qq facebook 163/;
    @sites2 = @sites[3, 5];
    @sites3 = @sites[3..5];
```

合并数组
```pl
   @odd = (1, 3, 5);
   @even = (2, 4, 6);
   @numbers = (@odd, @even);
```

从列表中选择元素
```pl
   $var = (5, 4, 3, 2, 1)[4];
   @list = (5, 4, 3, 2, 1)[1..3];
```

> 关于数组的一些函数:

替换数组元素: `splice(@ARRAY, OFFSET [,LENGTH [,LIST]])`
```pl
    @ARRAY      要替换的数组
    OFFSET      起始位置
    LENGTH      替换的元素个数
    LIST        替换元素列表，为空可以达到删除作用
```

将字符串转换为数组: `split(@PATTERN [,EXPR [, LIMIT]])`
```pl
    PATTERN     分隔符
    EXPR        指定字符串数
    LIMIT       如果指定该参数，则返回该数组的元素个数
```

将数组转换为字符串: `join(EXPR, LIST)`
```pl
    EXPR        连接符
    LIST        列表或数组
```

数组排序: `sort([SUBROUTINE], LIST)`
```pl
    SUBROUTINE  指定规则
    LIST        列表或数组
```


#### 哈希

哈希以字符 `%` 开头，无序的 `key/value` 集合，可以使用键作为下标取值。如 `%h=('a'=>1, 'b'=>2)`。
```pl
    %data = ('google', 'google.com', 'runoob', 'runoob.com', 'taobao', 'taobao.com');
    %data = ('google'=>'goole.com', 'runoob'=>'runoob.com', 'taobao'=>'taobao.com');
```

哈希变量是键值对的集合，可以通过 `$哈希变量名{键}` 来进行值的访问。

添加或改变元素:
```pl
    $data{'google'} = 'google.com';
    $data{'runoob'} = 'runoob.com';
    $data{'taobao'} = 'taobao.coom';
```

读取哈希值的所有 key
```pl
    keys(%h);
    @keynames = keys(%data);
```

读取哈希值的所有 value
```pl
    values(%v);
    @valuenames = values(%data);
```

检测元素是否存在 exists
```pl
    if (exists($data{'facebook'})) {
        print("facebook 的网址为 $data{'facebook'}\n");
    } else {
        print("facebook 键不存在\n");
    }
```
   
获取哈希的大小
```pl
    哈希大小为元素的个数，可以通过先获取 key 或 value 的所有元素数组，再计算数组元素多少来获取哈希的大小。
    @keys = keys(%data);
    $size = @keys;
```

哈希中添加或删除元素
```pl
    delete($data{'taobao'});
```

