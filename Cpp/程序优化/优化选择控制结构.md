
### 使用 switch 代替 if...else

在 C 语言中，如果 switch 语句中 case 标识值较小，并且比较近，编译器就会把 switch 结构实现为一个跳转表，跳转表可用一个数组表示，其中存放着跳转地址，也就是说，只要传递索引值，就可以很快得到所需要的跳转地址。

需要注意的是，如果 case 标识值较大，而且离散，即使写成 switch 语句，编译器也可能会将它作为 if...else 判断。

如果必须要使用较长的 if...else if...else 判断，则最好把出现条件概率大的判断放在最前面，出现概率小的放在后面。


### 使用数组或查找表代替 switch 或 if...else

在一个较长的分支结构中，如果 case 的标识号或条件判断数值是连续的，则可以使用一个数组来代替，如下示例:

一般表示:
```
    switch (queue) {
        case 0: letter = 'W'; break;
        case 1: letter = 'T'; break;
        case 2: letter = 'O'; break;
    }
```

使用数组:
```
    static char * table = "WTO";
    letter = table[queue];
```


### 使用与零比较的关系式

在 C 语言中，与零相关的关系操作都可以利用状态标志寄存器的 N 和 Z 标志，N 标志表示结果是否为负(Negative)，Z 标志表示结果是否为零(Zero)。N 和 Z 标志所对应的有符号关系操作有: `x<0, x>=0, x==0, x != 0` 和无符号: `x == 0, x != 0` 或 `x > 0` 。

对于每一条 C 语言的关系操作，编译器都会产生一条比较命令，如果关系操作与零相关，并且数据处理出现在比较之前，编译器将移去比较指令。

因此，在编写程序时，如果把关系式写成与零比较的形式，编译后的代码将减少一条比较指令，故可以提高计算速度。

以下是一个与零比较关系式的示例:
```c
    int foo(int x, int y)
    {
        if (x + y < 0)
            return 1;
        else
            return 0;
    }
```

