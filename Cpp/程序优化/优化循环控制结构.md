
我可能很丑，但却很快...


### 循环不变量代码移动

将"不变量代码"提到循环体之外，减少其计算次数，近而加快了循环结构程序的运行速度。


### 循环展开

这种优化方法是减少循环次数，针对每个循环索引分别书写代码。这种做法减少了循环跳跃时间，因而提高了计算速度。

一般写法:
```
    tmp = 0;
    for (i = 0; i < 10000; i++) {
        tmp = tmp + 1 / (float) (i + 1);
    }
```

丑快写法:
```
    tmp = 0;
    for (i = 0; i < 10000; i += 4) {
        tmp = tmp + 1 / (float) (i + 1);
        tmp = tmp + 1 / (float) (i + 2);
        tmp = tmp + 1 / (float) (i + 3);
        tmp = tmp + 1 / (float) (i + 4);
    }
```


### 循环分裂

是一种编译器优化技术。它是把相同索引区间下的一个循环体分裂成多个循环，其目的是把大的循环体变成小的块，以便更好地增加高速缓存(Cache)中数据的空间融合。循环分裂方法的示例如下:

分裂前:
```
    for (i = 0; i < 100; i++) {
        a[i] = 1;
        b[i] = 2;
    }
```

分裂后:
```
    for (i = 0; i < 100; i++) {
        a[i] = 1;
    }
    
    for (i = 0; i < 100; i++) {
        b[i] = 2;
    }
```


### 循环转置

把循环索引值变成从大到小计算，而不是递增计算。

例如，把以下代码:
```
    for (i = 0; i < 10; i++) { ... }
```
变换为:
```
    for (i = 10; i--;) { ... }
```

通过这种变换后，程序运行速度变快，因为判别循环终止只需要判别 i 是否为 0 。

