
### 配置

git 有 3 个不同级别的配置文件，它们有不同的优先权，高优先权文件的设置项会覆盖低优先权文件中相同的设置项。

以下按照优先权从高至低按序说明:

1. 仓库顶层目录下 .git 子文件夹内的 config 文件

通过 `cat` 命令看一下这个文件的内容:
```ini
    [core]
            repositoryformatversion = 0
            filemode = true
            bare = false
            logallrefupdates = true
    [remote "origin"]
            url = https://github.com/libeio/ldev
            fetch = +refs/heads/*:refs/remotes/origin/*
    [branch "master"]
            remote = origin
            merge = refs/heads/master
```
也可以通过 `git config --local -l` 展示:
```
    core.repositoryformatversion=0
    core.filemode=true
    core.bare=false
    core.logallrefupdates=true
    remote.origin.url=https://github.com/libeio/ldev
    remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*
    branch.master.remote=origin
    branch.master.merge=refs/heads/master
```
可以看出，配置中的参数内容相同，只是展示方式不一样。

2.登录账号的 home directory 中的 .gitconfig 文件

比如以 root 身份登录时，对应家目录`/root`下有个 .gitconfig 文件，通过 `cat` 查看:
```ini
    [user]
            name = libeio
            email = ytmrlimei@163.com
```
也可以通过 `git config --global -l` 展示:
```
    user.name=libeio
    user.email=ytmrlimei@163.com
```

3.git 程序的安装文件夹中的 etc/gitconfig 文件

这个我在 Linux 下并没有找到，不过在 windows 下找到了，通过 `cat` 查看:
```ini
    [diff "astextplain"]
            textconv = astextplain
    [filter "lfs"]
            clean = git-lfs clean -- %f
            smudge = git-lfs smudge -- %f
            process = git-lfs filter-process
            required = true
    [http]
            sslBackend = openssl
            sslCAInfo = C:/Program Files/Git/mingw64/ssl/certs/ca-bundle.crt
    [core]
            autocrlf = true
            fscache = true
            symlinks = false
    [pull]
            rebase = false
```
也可以通过 `git config --system -l` 展示:
```
    diff.astextplain.textconv=astextplain
    filter.lfs.clean=git-lfs clean -- %f
    filter.lfs.smudge=git-lfs smudge -- %f
    filter.lfs.process=git-lfs filter-process
    filter.lfs.required=true
    http.sslbackend=openssl
    http.sslcainfo=C:/Program Files/Git/mingw64/ssl/certs/ca-bundle.crt
    core.autocrlf=true
    core.fscache=true
    core.symlinks=false
    pull.rebase=false
```

> 关于配置的选择

同一个用户名下一般会有多个不同的仓库，如果使用配置一的话，需要对每个仓库都进行配置，比较麻烦，一般不会采用。如果采用配置三，因为权限太大的缘故，某个用户的操作可能会对其他用户配置产生修改，所以也不会使用。

综合来看，配置二是更合适的选择。


> 配置项的删除

使用 --unset 选项对配置选项进行删除:
```sh
    git config --unset user.name
```
上述命令只会删除最高优先配置中的项，比如 local 和 global 中同时存在 user.name 项，只执行一次的话，只会删除 local 中的 user.name。如果想再删除 global 中的 user.name, 需要再执行一次同样的命令。如果 local 和 global 中同时存在某个配置项，但只想删除 global 中的配置顶，可以直接通过 --global 选项指定。


### 查看状态

git 会将仓库下的文件或目录分成三类，分别是:
- 不被追踪的 (untracked)
- 被追踪的 (tracked)
- 忽略的 (ignored)

比如在仓库下创建两个之前从来没有过的新的文件 new.md, ignored.md, 创建之后通过 `git status` 查看:
```sh
    On branch master
    Your branch is up to date with 'origin/master'.

    Untracked files:
      (use "git add <file>..." to include in what will be committed)
            new.md
            ignored.md

    nothing added to commit but untracked files present (use "git add" to track)
```
可以看到关键字 "Untracked files"，其表示这两个文件未被追踪。现在把 new.md 文件添加到文档库中(即使其被追踪):
```sh
    git add new.md
    git commit -m "add new.md"
```
**注意，只有在执行提交(git commit)之后，新文件才会被纳入追踪。**

将要忽略的文件添加到 .gitignore 中就可以了。默认情况下，git 并不会主动创建 .gitignore 文件，使用者需要自己创建，且一般放置在仓库顶层目录下。


### Detached-HEAD问题

> 问题引出: `git checkout commitid` 与 `git checkout commitid .` 的执行结果





