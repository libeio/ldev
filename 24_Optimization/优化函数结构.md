
### 减少函数参数

调用函数的参数可以通过寄存器传递一个函数，然而对这些参数传输有一定的限制。这些参数可以是整型相兼容的数据类型，如字符类型 char、半字类型 short 等。如果参数限定个数为 4，那么第 5 个及以后的参数将要通过栈来传递。这将增加内存访问开销，即对调用函数中的参数存储以及该参数在被调用函数中的装载。

例如，对于以下函数，需要在栈上对 foo() 的参数 e 和 f 存储，对 bar() 的参数 e 和 f 装载，对每个参数需要进行两次内存访问。
```c
    int foo(int a, int b, int c, int d, int e, int f)
    {
        return a + b + c + d + e + f;
    }
    
    int bar()
    {
        return foo(1, 2, 3, 4, 5, 6);
    }
```
如果函数中传送参数过多，可将参数组成一个数组或者结构体，然后用指针传递。由于数组或结构体中的单元地址是连续的，在传送参数时，只需要传递数组或结构的首部指针地址即可。


### 减少函数调用

由于函数中的局部变量在程序使用时需要占用内存栈，因此如果栈空间有限，则应尽量减少函数的调用层次，减少递归函数调用。

例如，把 `f(x) + f(x)` 写成 `2 * f(x)`, 或者把 `f(x) * f(x)` 写成 `f(x)^2` 。


### 使用叶子函数

叶子函数就是在该函数中没有调用其他函数的函数，它没有保存/恢复寄存器的操作，执行效率比一般函数要高。


### 使用宏定义函数或内联函数

对于多次调用的小函数，最好使用 `#define` 定义函数，或者使用内联(inline)函数。

<strong>在编译时，编译器将宏定义函数或内联函数的调用直接替换成所对应的代码</strong>，因而消除了函数的调用。


