
### 函数定义

格式如下:
```go
  func FuncName(ParametersList) (ReturnValuesList) {
    // Body
  }
```
比如定义一个加法函数:
```go
  func Add(a int, b int) (ret int, err error) {
    ...
  }
```

如果参数列表或返回值列表中若干个相邻的参数类型相同，则可以在参数列表中省略前面变量的类型声明:
```go
  func Add(a, b int) (ret int, err error) {
    ...
  }
```

如果函数只有一个返回值，也可以这样写:
```go
  func Add(a, b int) int {
    ...
  }
```


### 不定参数

不定参数是指函数传入的参数个数为不定数量。函数可以进行如下定义以接受不定参数类型:
```go
  func myfunc(args ...int) {
      for _, arg := range args {
          fmt.Println(arg)
      }
  }
```
函数 myfunc() 接受不定数量的参数，参数类型全部是 int，它可以用如下方式调用:
```go
  myfunc(1, 2, 3)
  myfunc(1, 3, 7, 13)
```
形如 `...type` 格式的类型本质上是一个数组切片`[]type`，它必须作为最后一个参数出现。

不定参数的传递类似于 C++ 可变参数模板传递方式，同时支持切片传递:
```go
  func myfunc(args ...int) {
      myfunc3(args...)      // 按原样传递
      myfunc3(args[1:]...)  // 传递片段，实际上任意的 int slice 都可以传进去
  }
```
如果希望传任意类型，可以指定类型为 `interface{}`。以 Go 语言标准库中 fmt.Printf() 的函数原型作为参考示例:
```go
  func Printf(format string, args ...interface{}) {
      // ...
  }
```

[用interface实现打印函数示例](t/05_vargs.go)


### 匿名函数与闭包

匿名函数由一个不带函数名的函数声明和函数体组成，如下:
```go
  func(a, b int, z float64) bool {
      return a * b < int(z)
  }
```
匿名函数可以直接赋值给一个变量或者直接执行:
```go
  f := func(x, y int) int {
      return x + y
  }
  
  func(ch chan int) {
      ch <- ACK
  } (reply_chan)  // 花括号后直接跟参数列表表示函数调用
```

闭包是可以包含自由变量的代码块，这些变量不在这个代码块内或者任何全局上下文中定义，而是在定义代码块的环境中定义。要执行的代码块为自由变量提供绑定的计算环境(作用域)。

闭包可以作为函数对象或者匿名函数使用。Go 语言中的闭包可以引用函数外的变量。

[闭包程序示例](t/05_closure.go)
